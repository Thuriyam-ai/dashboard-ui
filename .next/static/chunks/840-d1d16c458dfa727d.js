(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[840],{7840:(e,t,a)=>{"use strict";a.d(t,{Md:()=>l,JO:()=>u,b3:()=>m});var r=a(5155),i=a(2115),s=a(9443),n=a.n(s);function l(e){var t;let{transcriptData:a,audioUrl:s}=e,[l,c]=(0,i.useState)(0),[o,m]=(0,i.useState)(!1),[d,p]=(0,i.useState)(null),u=(0,i.useRef)(null),_=a||[{id:"1",speaker:"Agent",text:"Hello, thank you for calling our support line. How can I help you today?",startTime:0,endTime:4.2,fillerWords:[],isInterruption:!1},{id:"2",speaker:"Customer",text:"Hi, um, I'm having trouble with my account login. It keeps saying my password is wrong.",startTime:4.5,endTime:8.1,fillerWords:["um"],isInterruption:!1},{id:"3",speaker:"Agent",text:"I understand your frustration. Let me help you with that. Can you tell me your email address?",startTime:8.3,endTime:12.7,fillerWords:[],isInterruption:!1},{id:"4",speaker:"Customer",text:"Sure, it's john.doe@email.com",startTime:13,endTime:15.2,fillerWords:[],isInterruption:!1},{id:"5",speaker:"Agent",text:"Perfect. I can see your account here. The issue might be that your password has expired. Let me reset it for you.",startTime:15.5,endTime:20.8,fillerWords:[],isInterruption:!1},{id:"6",speaker:"Customer",text:"Oh, that would be great! Thank you so much.",startTime:21,endTime:23.5,fillerWords:[],isInterruption:!1}];(0,i.useEffect)(()=>{let e=u.current;if(!e||!s)return;let t=()=>{c(e.currentTime);let t=_.find(t=>e.currentTime>=t.startTime&&e.currentTime<=t.endTime);p((null==t?void 0:t.id)||null)};return e.addEventListener("timeupdate",t),e.addEventListener("play",()=>m(!0)),e.addEventListener("pause",()=>m(!1)),()=>{e.removeEventListener("timeupdate",t),e.removeEventListener("play",()=>m(!0)),e.removeEventListener("pause",()=>m(!1))}},[_,s]);let h=e=>{let t=u.current;t&&s&&(t.currentTime=e.startTime,t.play().catch(e=>{console.warn("Audio playback failed:",e)}))},k=(e,t)=>{if(0===t.length)return e;let a=e;return t.forEach(e=>{let t=RegExp("\\b".concat(e,"\\b"),"gi");a=a.replace(t,'<span class="'.concat(n().fillerWord,'">').concat(e,"</span>"))}),a},v=e=>{let t=Math.floor(e/60),a=Math.floor(e%60);return"".concat(t,":").concat(a.toString().padStart(2,"0"))};return(0,r.jsxs)("div",{className:n().container,children:[(0,r.jsxs)("div",{className:n().header,children:[(0,r.jsx)("h2",{className:n().title,children:"Interactive Transcript Player"}),(0,r.jsx)("div",{className:n().audioControls,children:s?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("button",{onClick:()=>{let e=u.current;e&&s&&(o?e.pause():e.play().catch(e=>{console.warn("Audio playback failed:",e)}))},className:n().playButton,"aria-label":o?"Pause":"Play",children:o?(0,r.jsx)("svg",{className:n().icon,fill:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{d:"M6 4h4v16H6V4zm8 0h4v16h-4V4z"})}):(0,r.jsx)("svg",{className:n().icon,fill:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{d:"M8 5v14l11-7z"})})}),(0,r.jsxs)("div",{className:n().timeDisplay,children:[v(l)," /"," ",v((null===(t=_[_.length-1])||void 0===t?void 0:t.endTime)||0)]})]}):(0,r.jsxs)("div",{className:n().noAudioMessage,children:[(0,r.jsx)("svg",{className:n().icon,fill:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})}),"Audio not available - Transcript only mode"]})})]}),s&&(0,r.jsx)("audio",{ref:u,src:s,preload:"metadata"}),(0,r.jsx)("div",{className:n().transcriptContainer,children:_.map(e=>(0,r.jsxs)("div",{className:"".concat(n().transcriptSegment," ").concat(d===e.id?n().activeSegment:""," ").concat(e.isInterruption?n().interruption:""),onClick:()=>h(e),children:[(0,r.jsxs)("div",{className:n().segmentHeader,children:[(0,r.jsx)("span",{className:n().speaker,children:e.speaker}),(0,r.jsxs)("span",{className:n().timestamp,children:[v(e.startTime)," - ",v(e.endTime)]})]}),(0,r.jsx)("div",{className:n().segmentText,dangerouslySetInnerHTML:{__html:k(e.text,e.fillerWords)}}),e.pauseDuration&&(0,r.jsxs)("div",{className:n().pauseIndicator,children:["[PAUSE ",e.pauseDuration,"s]"]}),e.isInterruption&&(0,r.jsxs)("div",{className:n().interruptionFlag,children:[(0,r.jsx)("svg",{className:n().flagIcon,fill:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"})}),"Interruption"]})]},e.id))})]})}var c=a(3683),o=a.n(c);function m(e){let{conversationData:t,totalDuration:a=25}=e,[s,n]=(0,i.useState)(null),l=(0,i.useRef)(null),c=t||[{speaker:"Agent",startTime:0,endTime:4.2,duration:4.2},{speaker:"Customer",startTime:4.5,endTime:8.1,duration:3.6},{speaker:"Agent",startTime:8.3,endTime:12.7,duration:4.4},{speaker:"Customer",startTime:13,endTime:15.2,duration:2.2},{speaker:"Agent",startTime:15.5,endTime:20.8,duration:5.3},{speaker:"Customer",startTime:21,endTime:23.5,duration:2.5}],m=Array.from(new Set(c.map(e=>e.speaker))),d={Agent:"#3b82f6",Customer:"#10b981",System:"#f59e0b",Other:"#8b5cf6"},p=e=>{let t=Math.floor(e/60),a=Math.floor(e%60);return"".concat(t,":").concat(a.toString().padStart(2,"0"))},u=e=>e/a*100,_=e=>e/a*100,h=m.map(e=>{let t=c.filter(t=>t.speaker===e),r=t.reduce((e,t)=>e+t.duration,0),i=r/a*100;return{speaker:e,totalTime:r,percentage:i,segmentCount:t.length}}).sort((e,t)=>t.totalTime-e.totalTime);return(0,r.jsxs)("div",{className:o().container,children:[(0,r.jsxs)("div",{className:o().header,children:[(0,r.jsx)("h2",{className:o().title,children:"Speaker Timeline"}),(0,r.jsxs)("div",{className:o().duration,children:["Total Duration: ",p(a)]})]}),(0,r.jsxs)("div",{className:o().timelineContainer,children:[(0,r.jsxs)("div",{className:o().timelineHeader,children:[(0,r.jsx)("span",{className:o().timeLabel,children:"0:00"}),(0,r.jsx)("span",{className:o().timeLabel,children:p(a)})]}),(0,r.jsx)("div",{ref:l,className:o().timeline,children:c.map((e,t)=>(0,r.jsx)("div",{className:o().segment,style:{width:"".concat(u(e.duration),"%"),left:"".concat(_(e.startTime),"%"),backgroundColor:d[e.speaker]||"#6b7280"},onMouseEnter:()=>n(e),onMouseLeave:()=>n(null),title:"".concat(e.speaker,": ").concat(p(e.startTime)," - ").concat(p(e.endTime))},t))}),(0,r.jsx)("div",{className:o().timeMarkers,children:Array.from({length:Math.ceil(a/5)+1},(e,t)=>(0,r.jsx)("div",{className:o().timeMarker,style:{left:"".concat(5*t/a*100,"%")},children:(0,r.jsx)("span",{className:o().markerTime,children:p(5*t)})},t))})]}),(0,r.jsxs)("div",{className:o().legend,children:[(0,r.jsx)("h3",{className:o().legendTitle,children:"Speaker Statistics"}),(0,r.jsx)("div",{className:o().speakerStats,children:h.map(e=>(0,r.jsxs)("div",{className:o().speakerStat,children:[(0,r.jsxs)("div",{className:o().speakerInfo,children:[(0,r.jsx)("div",{className:o().speakerColor,style:{backgroundColor:d[e.speaker]||"#6b7280"}}),(0,r.jsx)("span",{className:o().speakerName,children:e.speaker})]}),(0,r.jsxs)("div",{className:o().speakerMetrics,children:[(0,r.jsx)("span",{className:o().speakerTime,children:p(e.totalTime)}),(0,r.jsxs)("span",{className:o().speakerPercentage,children:["(",e.percentage.toFixed(1),"%)"]}),(0,r.jsxs)("span",{className:o().segmentCount,children:[e.segmentCount," segments"]})]})]},e.speaker))})]}),s&&(0,r.jsxs)("div",{className:o().tooltip,children:[(0,r.jsx)("div",{className:o().tooltipSpeaker,children:s.speaker}),(0,r.jsxs)("div",{className:o().tooltipTime,children:[p(s.startTime)," -"," ",p(s.endTime)]}),(0,r.jsxs)("div",{className:o().tooltipDuration,children:["Duration: ",p(s.duration)]})]})]})}var d=a(1504),p=a.n(d);function u(e){let{metrics:t}=e,[a,s]=(0,i.useState)({talkToListenRatio:0,fillerWords:0,interruptions:0,totalSilenceDuration:0,transcriptQualityScore:0}),n=t||{talkToListenRatio:.65,fillerWords:12,interruptions:3,totalSilenceDuration:8.5,transcriptQualityScore:87};(0,i.useEffect)(()=>{(()=>{let e=0,t=setInterval(()=>{let a=++e/60;s({talkToListenRatio:n.talkToListenRatio*a,fillerWords:Math.round(n.fillerWords*a),interruptions:Math.round(n.interruptions*a),totalSilenceDuration:n.totalSilenceDuration*a,transcriptQualityScore:Math.round(n.transcriptQualityScore*a)}),e>=60&&(clearInterval(t),s(n))},1e3/60);return()=>clearInterval(t)})()},[n]);let l=e=>e>=.4&&e<=.6?"#10b981":e>=.3&&e<=.7?"#f59e0b":"#ef4444",c=e=>e>=80?"#10b981":e>=60?"#f59e0b":"#ef4444",o=e=>e>=.4&&e<=.6?"Optimal":e>=.3&&e<=.7?"Acceptable":"Needs Improvement",m=e=>e>=80?"Excellent":e>=60?"Good":"Poor";return(0,r.jsxs)("div",{className:p().container,children:[(0,r.jsxs)("div",{className:p().header,children:[(0,r.jsx)("h2",{className:p().title,children:"Key Metrics"}),(0,r.jsx)("div",{className:p().subtitle,children:"Conversation Analysis"})]}),(0,r.jsxs)("div",{className:p().metricsGrid,children:[(0,r.jsxs)("div",{className:p().metricCard,children:[(0,r.jsxs)("div",{className:p().metricHeader,children:[(0,r.jsx)("h3",{className:p().metricTitle,children:"Talk-to-Listen Ratio"}),(0,r.jsx)("div",{className:p().statusBadge,style:{backgroundColor:l(a.talkToListenRatio)},children:o(a.talkToListenRatio)})]}),(0,r.jsxs)("div",{className:p().gaugeContainer,children:[(0,r.jsx)("div",{className:p().gauge,children:(0,r.jsx)("div",{className:p().gaugeFill,style:{width:"".concat(100*a.talkToListenRatio,"%"),backgroundColor:l(a.talkToListenRatio)}})}),(0,r.jsxs)("div",{className:p().gaugeLabels,children:[(0,r.jsx)("span",{className:p().gaugeLabel,children:"Listen"}),(0,r.jsxs)("span",{className:p().gaugeValue,children:[(100*a.talkToListenRatio).toFixed(1),"%"]}),(0,r.jsx)("span",{className:p().gaugeLabel,children:"Talk"})]})]}),(0,r.jsx)("div",{className:p().metricDescription,children:"Optimal range: 40% - 60%"})]}),(0,r.jsxs)("div",{className:p().metricCard,children:[(0,r.jsxs)("div",{className:p().metricHeader,children:[(0,r.jsx)("h3",{className:p().metricTitle,children:"Filler Words"}),(0,r.jsx)("div",{className:p().metricIcon,children:(0,r.jsx)("svg",{fill:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})})})]}),(0,r.jsx)("div",{className:p().counterValue,children:a.fillerWords}),(0,r.jsx)("div",{className:p().metricDescription,children:'Words like "um", "uh", "like"'})]}),(0,r.jsxs)("div",{className:p().metricCard,children:[(0,r.jsxs)("div",{className:p().metricHeader,children:[(0,r.jsx)("h3",{className:p().metricTitle,children:"Interruptions"}),(0,r.jsx)("div",{className:p().metricIcon,children:(0,r.jsx)("svg",{fill:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"})})})]}),(0,r.jsx)("div",{className:p().counterValue,children:a.interruptions}),(0,r.jsx)("div",{className:p().metricDescription,children:"Times speakers interrupted each other"})]}),(0,r.jsxs)("div",{className:p().metricCard,children:[(0,r.jsxs)("div",{className:p().metricHeader,children:[(0,r.jsx)("h3",{className:p().metricTitle,children:"Silence Duration"}),(0,r.jsx)("div",{className:p().metricIcon,children:(0,r.jsx)("svg",{fill:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm5 11H7v-2h10v2z"})})})]}),(0,r.jsx)("div",{className:p().counterValue,children:(e=>{if(e<60)return"".concat(e.toFixed(1),"s");let t=Math.floor(e/60),a=e%60;return"".concat(t,"m ").concat(a.toFixed(1),"s")})(a.totalSilenceDuration)}),(0,r.jsx)("div",{className:p().metricDescription,children:"Total pause time in conversation"})]}),(0,r.jsxs)("div",{className:p().metricCard,children:[(0,r.jsxs)("div",{className:p().metricHeader,children:[(0,r.jsx)("h3",{className:p().metricTitle,children:"Quality Score"}),(0,r.jsx)("div",{className:p().statusBadge,style:{backgroundColor:c(a.transcriptQualityScore)},children:m(a.transcriptQualityScore)})]}),(0,r.jsx)("div",{className:p().scoreContainer,children:(0,r.jsxs)("div",{className:p().scoreCircle,children:[(0,r.jsx)("div",{className:p().scoreFill,style:{background:"conic-gradient(".concat(c(a.transcriptQualityScore)," ").concat(3.6*a.transcriptQualityScore,"deg, #e5e7eb 0deg)")}}),(0,r.jsx)("div",{className:p().scoreValue,children:a.transcriptQualityScore})]})}),(0,r.jsx)("div",{className:p().metricDescription,children:"Overall transcript clarity assessment"})]})]}),(0,r.jsxs)("div",{className:p().summary,children:[(0,r.jsx)("h3",{className:p().summaryTitle,children:"Conversation Summary"}),(0,r.jsx)("div",{className:p().summaryContent,children:(0,r.jsxs)("p",{children:["This conversation shows a"," ",o(a.talkToListenRatio).toLowerCase(),"talk-to-listen ratio with ",a.fillerWords," filler words and ",a.interruptions," interruptions. The transcript quality is"," ",m(a.transcriptQualityScore).toLowerCase(),"."]})})]})]})}},9443:e=>{e.exports={container:"interactive-transcript-player_container__IGB_5",header:"interactive-transcript-player_header__W5syh",title:"interactive-transcript-player_title__EVAZE",audioControls:"interactive-transcript-player_audioControls__vROin",playButton:"interactive-transcript-player_playButton__mdsG7",icon:"interactive-transcript-player_icon__4692C",timeDisplay:"interactive-transcript-player_timeDisplay__GnVvY",noAudioMessage:"interactive-transcript-player_noAudioMessage__YIifB",transcriptContainer:"interactive-transcript-player_transcriptContainer__ERbLq",transcriptSegment:"interactive-transcript-player_transcriptSegment__KY5YK",activeSegment:"interactive-transcript-player_activeSegment__18Lz9",interruption:"interactive-transcript-player_interruption__AUvwn",segmentHeader:"interactive-transcript-player_segmentHeader__ozA2_",speaker:"interactive-transcript-player_speaker__htWmS",timestamp:"interactive-transcript-player_timestamp__1ePx2",segmentText:"interactive-transcript-player_segmentText__x_Tr7",fillerWord:"interactive-transcript-player_fillerWord__LEwp2",pauseIndicator:"interactive-transcript-player_pauseIndicator__H0QYm",interruptionFlag:"interactive-transcript-player_interruptionFlag__DXvN_",flagIcon:"interactive-transcript-player_flagIcon__7xq_K"}},1504:e=>{e.exports={container:"key-metrics-panel_container__5pcMW",header:"key-metrics-panel_header__g5_P6",title:"key-metrics-panel_title__S9r7Y",subtitle:"key-metrics-panel_subtitle__JxK_u",metricsGrid:"key-metrics-panel_metricsGrid__O2KLo",metricCard:"key-metrics-panel_metricCard__QWRS8",metricHeader:"key-metrics-panel_metricHeader__sZqKb",metricTitle:"key-metrics-panel_metricTitle__pYoI3",statusBadge:"key-metrics-panel_statusBadge__m0GTM",metricIcon:"key-metrics-panel_metricIcon__yegep",gaugeContainer:"key-metrics-panel_gaugeContainer__r66hM",gauge:"key-metrics-panel_gauge__pqfqR",gaugeFill:"key-metrics-panel_gaugeFill__XwuAf",gaugeLabels:"key-metrics-panel_gaugeLabels__izJOH",gaugeLabel:"key-metrics-panel_gaugeLabel__6VCNS",gaugeValue:"key-metrics-panel_gaugeValue__jsT0x",counterValue:"key-metrics-panel_counterValue__Dzt24",scoreContainer:"key-metrics-panel_scoreContainer__bT2hG",scoreCircle:"key-metrics-panel_scoreCircle__cJ6hn",scoreFill:"key-metrics-panel_scoreFill__hk9xw",scoreValue:"key-metrics-panel_scoreValue__4u2HO",metricDescription:"key-metrics-panel_metricDescription__4w1y_",summary:"key-metrics-panel_summary__Uf0uB",summaryTitle:"key-metrics-panel_summaryTitle__3sW4a",summaryContent:"key-metrics-panel_summaryContent__B_dFX"}},3683:e=>{e.exports={container:"speaker-timeline_container__6ryLV",header:"speaker-timeline_header__Z0E9P",title:"speaker-timeline_title__4MAON",duration:"speaker-timeline_duration__yNdsf",timelineContainer:"speaker-timeline_timelineContainer__0_bEV",timelineHeader:"speaker-timeline_timelineHeader__cnHHc",timeLabel:"speaker-timeline_timeLabel__8qSkZ",timeline:"speaker-timeline_timeline__uSwQt",segment:"speaker-timeline_segment__PQbFf",timeMarkers:"speaker-timeline_timeMarkers__CS_Ab",timeMarker:"speaker-timeline_timeMarker__AIx2t",markerTime:"speaker-timeline_markerTime__G__Ll",legend:"speaker-timeline_legend__T69P5",legendTitle:"speaker-timeline_legendTitle__Kn2Bj",speakerStats:"speaker-timeline_speakerStats__vld7K",speakerStat:"speaker-timeline_speakerStat__ivniN",speakerInfo:"speaker-timeline_speakerInfo__rnFE3",speakerColor:"speaker-timeline_speakerColor__Z8MiM",speakerName:"speaker-timeline_speakerName__sddqT",speakerMetrics:"speaker-timeline_speakerMetrics__za5q5",speakerTime:"speaker-timeline_speakerTime__LfSjt",speakerPercentage:"speaker-timeline_speakerPercentage__OOO38",segmentCount:"speaker-timeline_segmentCount__1hQqx",tooltip:"speaker-timeline_tooltip__ZNxWN",tooltipSpeaker:"speaker-timeline_tooltipSpeaker___2Q3V",tooltipTime:"speaker-timeline_tooltipTime__6NIvs",tooltipDuration:"speaker-timeline_tooltipDuration__v_fai"}}}]);