(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[662],{3743:function(e,t,r){Promise.resolve().then(r.bind(r,9047))},9047:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return $}});var s=r(7437),n=r(2265),a=r(9376),i=r(4753),o=r(9496),l=r.n(o),c=r(3397),d=r(8543),x=r(8319),u=r(658),h=r(1504),m=r(5338),v=r(7893),j=r(7639),Z=r(9083),g=r(5666),p=r(5545),f=r(2854),y=r(793),b=r(9352),C=r(1563),w=r(1002),_=r(1096),S=r(8190),N=r(34),k=r(7554),I=r(1835),P=r(7792),z=r(4190),A=r(2961),B=r(7367),D=r(4589),W=r(7306),R=r(1442),E=r(2141),L=r(9391),G=r(2192),O=r(307),T=r(7823),F=r(9872),H=r(9120),q=r(2617),K=r(3484),M=r(1617),U=r(4881),V=r(7856);let Q=e=>"object"==typeof e&&e&&"$date"in e?e.$date:e||new Date().toISOString(),Y=e=>{var t,r;let s=(null===(t=e.analytics_data)||void 0===t?void 0:t.scorecard)||{},n=(null===(r=e.analytics_data)||void 0===r?void 0:r.outcome)||{},a=Q(e.call_timestamp);return{id:e.conversation_id,agentName:"Kavya Reddy",customerName:"Rajesh Kumar",duration:"".concat(Math.floor(e.length_in_sec/60),":").concat((e.length_in_sec%60).toString().padStart(2,"0")),date:a,status:(e.avyukta_status||"completed").toLowerCase(),qualityScore:e.QC_score,talkToListenRatio:.58,campaign:"Customer Support",team:"Technical Support",disposition:e.lamh_disposition,btaScore:88,lcaScore:85,sentiment:"positive",fillerWords:3,interruptions:1,keyTopics:["Account Access","Password Reset","Security Settings"],audioUrl:e.recording_url,scorecard:s,outcome:n}};function $(){let e;let t=(0,a.useRouter)(),r=(0,a.useSearchParams)(),{logout:o}=(0,U.a)(),[Q,$]=(0,n.useState)(null),[X,J]=(0,n.useState)(!0),[ee,et]=(0,n.useState)(null),[er,es]=(0,n.useState)("conversation"),[en,ea]=(0,n.useState)({}),[ei,eo]=(0,n.useState)({}),[el,ec]=(0,n.useState)(null),[ed,ex]=(0,n.useState)(!1),[eu,eh]=(0,n.useState)(""),[em,ev]=(0,n.useState)("success"),ej=r.get("id");(0,n.useEffect)(()=>{if(!ej){J(!1),et("Conversation ID is missing from the URL.");return}(async()=>{J(!0),et(null);try{var e,t,r,s,n;let a=await (0,V.wS)(ej),i=Y(a);$({detail:i});let o={};for(let[s,n]of Object.entries(i.scorecard))o[s]={score:null!==(t=null===(e=n.review_score)||void 0===e?void 0:e.toString())&&void 0!==t?t:n.score.toString(),reason:null!==(r=n.reason_for_update)&&void 0!==r?r:""};ea(o);let l={};for(let[e,t]of Object.entries(i.outcome))l[e]={value:null!==(s=t.reviewer_value)&&void 0!==s?s:"",reason:null!==(n=t.reviewer_reason)&&void 0!==n?n:""};eo(l)}catch(e){et(e instanceof Error?e.message:"An unknown error occurred.")}finally{J(!1)}})()},[ej]);let eZ=(e,t,r)=>{ea(s=>({...s,[e]:{...s[e],[t]:r}}))},eg=(e,t,r)=>{eo(s=>({...s,[e]:{...s[e],[t]:r}}))},ep=async(e,t)=>{if(!ej){eh("Error: Conversation ID is missing."),ev("error"),ex(!0);return}let r=en[e],s=parseInt(r.score,10);if(!r.score||isNaN(s)||s<0||s>t){eh("Please enter a valid score between 0 and ".concat(t,".")),ev("error"),ex(!0);return}if(!r.reason.trim()){eh("A reason is required to submit the review."),ev("error"),ex(!0);return}ec(e);try{let t={review_score:s,reason_for_update:r.reason};await (0,V.wW)(ej,e,t),eh('Review for "'.concat(e,'" saved successfully!')),ev("success"),ex(!0)}catch(e){eh(e instanceof Error?e.message:"An unknown error occurred."),ev("error"),ex(!0)}finally{ec(null)}},ef=async e=>{if(!ej){eh("Error: Conversation ID is missing."),ev("error"),ex(!0);return}let t=ei[e];if(null===t.value||""===t.value){eh("The reviewer value cannot be empty."),ev("error"),ex(!0);return}if(!t.reason.trim()){eh("A reason is required to submit the review."),ev("error"),ex(!0);return}ec(e);try{let r={reviewer_value:t.value,reviewer_reason:t.reason};await (0,V.Om)(ej,e,r),eh('Review for "'.concat(e,'" saved successfully!')),ev("success"),ex(!0)}catch(e){eh(e instanceof Error?e.message:"An unknown error occurred."),ev("error"),ex(!0)}finally{ec(null)}},ey=(e,t)=>{"clickaway"!==t&&ex(!1)},eb=()=>t.push("/team-leader-dashboard/conversations"),eC=e=>({positive:"success",neutral:"info",negative:"error"})[e]||"default";if(X)return(0,s.jsxs)(d.Z,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh"},children:[(0,s.jsx)(x.Z,{}),(0,s.jsx)(u.Z,{sx:{ml:2},children:"Loading conversation details..."})]});if(ee||!Q)return(0,s.jsx)(h.Z,{maxWidth:"xl",sx:{py:3},children:(0,s.jsxs)(m.Z,{severity:"error",children:[(0,s.jsx)(v.Z,{children:"Error Loading Conversation"}),ee||"Conversation details could not be loaded for ID: ".concat(ej,"."),(0,s.jsx)(j.Z,{onClick:eb,sx:{ml:2},children:"Go Back"})]})});let{detail:ew}=Q,e_=Object.entries(ew.scorecard),eS=Object.entries(ew.outcome),eN=e_.reduce((e,t)=>{let[,r]=t;return e+r.max_score},0),ek=e_.reduce((e,t)=>{var r;let[,s]=t;return e+(null!==(r=s.review_score)&&void 0!==r?r:s.score)},0),eI=eN>0?ek/eN*100:0,eP=(e,t)=>{let r=t>0?e/t*100:0;return r>=80?"success":r>=50?"warning":"error"};return(0,s.jsxs)(d.Z,{sx:{display:"flex",minHeight:"100vh",backgroundColor:"background.default"},children:[(0,s.jsx)(i.q,{activeItem:"conversations"}),(0,s.jsxs)(d.Z,{sx:{flexGrow:1,display:"flex",flexDirection:"column",marginLeft:"280px"},children:[(0,s.jsx)(Z.Z,{position:"static",elevation:1,sx:{backgroundColor:"background.paper",color:"text.primary",borderBottom:"1px solid",borderColor:"divider"},children:(0,s.jsxs)(g.Z,{children:[(0,s.jsx)(j.Z,{startIcon:(0,s.jsx)(R.Z,{}),onClick:eb,sx:{mr:2},children:"Back to Conversations"}),(0,s.jsx)(d.Z,{sx:{flexGrow:1},children:(0,s.jsx)(u.Z,{variant:"body2",sx:{fontFamily:"monospace",color:"text.secondary"},children:"conversation-detail.localhost:3001"})}),(0,s.jsxs)(d.Z,{sx:{display:"flex",alignItems:"center",gap:2},children:[(0,s.jsx)(p.Z,{size:"small",sx:{color:"text.secondary"},children:(0,s.jsx)(E.Z,{})}),(0,s.jsxs)(d.Z,{sx:{display:"flex",alignItems:"center",gap:1,mr:2},children:[(0,s.jsx)(f.Z,{sx:{width:32,height:32,bgcolor:"primary.main",fontSize:"0.875rem"},children:"W"}),(0,s.jsx)(u.Z,{variant:"body2",fontWeight:500,children:"Work"})]}),(0,s.jsx)(p.Z,{size:"small",sx:{color:"text.secondary"},children:(0,s.jsx)(L.Z,{})}),(0,s.jsx)(j.Z,{variant:"contained",color:"error",size:"small",startIcon:(0,s.jsx)(G.Z,{}),sx:{ml:1},onClick:o,children:"Logout"})]})]})}),(0,s.jsxs)(h.Z,{maxWidth:"xl",sx:{flexGrow:1,py:3},children:[(0,s.jsx)(c.O,{}),(0,s.jsxs)(d.Z,{sx:{mb:4},children:[(0,s.jsxs)(u.Z,{variant:"h3",component:"h1",fontWeight:700,gutterBottom:!0,children:["Conversation Analysis: ",ew.id]}),(0,s.jsxs)(u.Z,{variant:"h6",color:"text.secondary",gutterBottom:!0,children:[ew.agentName," ↔ ",ew.customerName]}),(0,s.jsxs)(d.Z,{sx:{display:"flex",gap:2,alignItems:"center",mt:2},children:[(0,s.jsx)(y.Z,{icon:(e=ew.status,({completed:(0,s.jsx)(A.Z,{}),"in-progress":(0,s.jsx)(B.Z,{}),failed:(0,s.jsx)(D.Z,{})})[e]||(0,s.jsx)(W.Z,{})),label:ew.status.charAt(0).toUpperCase()+ew.status.slice(1),color:{completed:"success","in-progress":"info",failed:"error"}[ew.status]||"default",size:"small"}),(0,s.jsx)(y.Z,{label:ew.team,size:"small",variant:"outlined"}),(0,s.jsx)(y.Z,{label:ew.campaign,size:"small",variant:"outlined"}),(0,s.jsxs)(u.Z,{variant:"body2",color:"text.secondary",children:[new Date(ew.date).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})," • ",ew.duration]})]})]}),(0,s.jsxs)(b.Z,{container:!0,spacing:3,sx:{mb:4},children:[(0,s.jsx)(b.Z,{item:!0,xs:12,sm:6,md:3,children:(0,s.jsx)(C.Z,{children:(0,s.jsxs)(w.Z,{children:[(0,s.jsxs)(d.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,s.jsxs)(d.Z,{children:[(0,s.jsx)(u.Z,{color:"text.secondary",gutterBottom:!0,children:"Overall Quality Score"}),(0,s.jsx)(u.Z,{variant:"h4",fontWeight:700,color:"primary",children:ew.qualityScore})]}),(0,s.jsx)(O.Z,{sx:{fontSize:40,color:"primary.main"}})]}),(0,s.jsx)(_.Z,{variant:"determinate",value:ew.qualityScore,sx:{mt:1,height:8,borderRadius:4},color:ew.qualityScore>=80?"success":"warning"})]})})}),(0,s.jsx)(b.Z,{item:!0,xs:12,sm:6,md:3,children:(0,s.jsx)(C.Z,{children:(0,s.jsxs)(w.Z,{children:[(0,s.jsxs)(d.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,s.jsxs)(d.Z,{children:[(0,s.jsx)(u.Z,{color:"text.secondary",gutterBottom:!0,children:"LCA Score"}),(0,s.jsx)(u.Z,{variant:"h4",fontWeight:700,color:"warning.main",children:ew.lcaScore})]}),(0,s.jsx)(T.Z,{sx:{fontSize:40,color:"warning.main"}})]}),(0,s.jsx)(_.Z,{variant:"determinate",value:ew.lcaScore,sx:{mt:1,height:8,borderRadius:4},color:ew.lcaScore>=80?"success":"warning"})]})})}),(0,s.jsx)(b.Z,{item:!0,xs:12,sm:6,md:3,children:(0,s.jsx)(C.Z,{children:(0,s.jsx)(w.Z,{children:(0,s.jsxs)(d.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,s.jsxs)(d.Z,{children:[(0,s.jsx)(u.Z,{color:"text.secondary",gutterBottom:!0,children:"Sentiment"}),(0,s.jsx)(u.Z,{variant:"h4",fontWeight:700,color:"".concat(eC(ew.sentiment),".main"),children:ew.sentiment.charAt(0).toUpperCase()+ew.sentiment.slice(1)})]}),(0,s.jsx)(F.Z,{sx:{fontSize:40,color:"".concat(eC(ew.sentiment),".main")}})]})})})}),(0,s.jsx)(b.Z,{item:!0,xs:12,sm:6,md:3,children:(0,s.jsx)(C.Z,{children:(0,s.jsx)(w.Z,{children:(0,s.jsxs)(d.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,s.jsxs)(d.Z,{children:[(0,s.jsx)(u.Z,{color:"text.secondary",gutterBottom:!0,children:"Disposition"}),(0,s.jsx)(u.Z,{variant:"h4",fontWeight:700,children:ew.disposition})]}),(0,s.jsx)(H.Z,{sx:{fontSize:40,color:"success.main"}})]})})})})]}),(0,s.jsx)(C.Z,{sx:{mb:3},children:(0,s.jsxs)(w.Z,{children:[(0,s.jsx)(u.Z,{variant:"h6",gutterBottom:!0,children:"Conversation Playback & Transcript"}),(0,s.jsx)(d.Z,{sx:{p:2,border:1,borderColor:"divider",borderRadius:1,backgroundColor:"action.hover"},children:(0,s.jsxs)("audio",{controls:!0,style:{width:"100%"},children:[(0,s.jsx)("source",{src:ew.audioUrl,type:"audio/mpeg"}),"Your browser does not support the audio element."]})}),(0,s.jsx)(C.Z,{variant:"outlined",sx:{mt:2},children:(0,s.jsx)(w.Z,{children:(0,s.jsxs)(d.Z,{sx:{height:200,overflow:"auto"},children:[(0,s.jsxs)(d.Z,{sx:{mb:2},children:[(0,s.jsx)(y.Z,{label:"Agent: ".concat(ew.agentName),size:"small",color:"primary",sx:{mr:1}}),(0,s.jsx)(u.Z,{variant:"body2",color:"text.secondary",component:"span",children:"00:00 - 00:15"})]}),(0,s.jsx)(u.Z,{variant:"body2",sx:{mb:2},children:'"Hello Mr. Kumar, thank you for calling..."'}),(0,s.jsxs)(d.Z,{sx:{mb:2},children:[(0,s.jsx)(y.Z,{label:"Customer: ".concat(ew.customerName),size:"small",color:"secondary",sx:{mr:1}}),(0,s.jsx)(u.Z,{variant:"body2",color:"text.secondary",component:"span",children:"00:15 - 00:45"})]}),(0,s.jsx)(u.Z,{variant:"body2",sx:{mb:2},children:'"Hi Kavya, I\'m having trouble logging in..."'}),(0,s.jsxs)(d.Z,{sx:{mb:2},children:[(0,s.jsx)(y.Z,{label:"Agent: ".concat(ew.agentName),size:"small",color:"primary",sx:{mr:1}}),(0,s.jsx)(u.Z,{variant:"body2",color:"text.secondary",component:"span",children:"00:45 - 01:20"})]}),(0,s.jsx)(u.Z,{variant:"body2",children:'"I understand your frustration..."'})]})})})]})}),(0,s.jsxs)(C.Z,{sx:{mb:3},children:[(0,s.jsx)(d.Z,{sx:{borderBottom:1,borderColor:"divider"},children:(0,s.jsxs)(S.Z,{value:er,onChange:(e,t)=>es(t),children:[(0,s.jsx)(N.Z,{icon:(0,s.jsx)(F.Z,{}),label:"Conversation Analysis",value:"conversation",iconPosition:"start"}),(0,s.jsx)(N.Z,{icon:(0,s.jsx)(q.Z,{}),label:"Scorecard",value:"scorecard",iconPosition:"start"}),(0,s.jsx)(N.Z,{icon:(0,s.jsx)(H.Z,{}),label:"Outcomes",value:"outcomes",iconPosition:"start"})]})}),(0,s.jsxs)(w.Z,{sx:{p:0},children:["conversation"===er&&(0,s.jsxs)(d.Z,{sx:{p:3},children:[(0,s.jsx)(u.Z,{variant:"h5",fontWeight:600,gutterBottom:!0,sx:{mb:3},children:"Call Analysis Details"}),(0,s.jsxs)(b.Z,{container:!0,spacing:3,children:[(0,s.jsxs)(b.Z,{item:!0,xs:12,md:6,children:[(0,s.jsx)(u.Z,{variant:"h6",gutterBottom:!0,children:"Speaker Timeline"}),(0,s.jsx)(C.Z,{variant:"outlined",children:(0,s.jsx)(w.Z,{children:(0,s.jsx)(d.Z,{sx:{height:150,display:"flex",alignItems:"center",justifyContent:"center"},children:(0,s.jsxs)(d.Z,{sx:{textAlign:"center"},children:[(0,s.jsxs)(u.Z,{variant:"h4",color:"primary",fontWeight:700,children:[Math.round(100*ew.talkToListenRatio),"%"]}),(0,s.jsx)(u.Z,{variant:"body2",color:"text.secondary",children:"Agent Talk Ratio"}),(0,s.jsx)(_.Z,{variant:"determinate",value:100*ew.talkToListenRatio,sx:{mt:1,height:8,borderRadius:4},color:"primary"})]})})})})]}),(0,s.jsxs)(b.Z,{item:!0,xs:12,md:6,children:[(0,s.jsx)(u.Z,{variant:"h6",gutterBottom:!0,children:"Call Metrics"}),(0,s.jsx)(C.Z,{variant:"outlined",children:(0,s.jsx)(w.Z,{children:(0,s.jsxs)(b.Z,{container:!0,spacing:2,children:[(0,s.jsx)(b.Z,{item:!0,xs:6,children:(0,s.jsxs)(d.Z,{sx:{textAlign:"center"},children:[(0,s.jsx)(u.Z,{variant:"h5",color:"error.main",fontWeight:700,children:ew.interruptions}),(0,s.jsx)(u.Z,{variant:"body2",color:"text.secondary",children:"Interruptions"})]})}),(0,s.jsx)(b.Z,{item:!0,xs:6,children:(0,s.jsxs)(d.Z,{sx:{textAlign:"center"},children:[(0,s.jsx)(u.Z,{variant:"h5",color:"warning.main",fontWeight:700,children:ew.fillerWords}),(0,s.jsx)(u.Z,{variant:"body2",color:"text.secondary",children:"Filler Words"})]})})]})})})]})]})]}),"scorecard"===er&&(0,s.jsxs)(d.Z,{sx:{p:3},children:[(0,s.jsx)(u.Z,{variant:"h5",fontWeight:600,gutterBottom:!0,sx:{mb:3},children:"Agent Performance Scorecard"}),(0,s.jsx)(C.Z,{variant:"outlined",children:(0,s.jsxs)(w.Z,{children:[(0,s.jsxs)(u.Z,{variant:"h6",color:"text.secondary",gutterBottom:!0,children:["Total QC Score: ",ek," /"," ",eN," (",Math.round(eI),"% Adherence)"]}),(0,s.jsx)(_.Z,{variant:"determinate",value:eI,sx:{mt:1,height:10,borderRadius:4,mb:3},color:eI>=80?"success":"error"}),(0,s.jsx)(b.Z,{container:!0,spacing:3,alignItems:"stretch",children:e_.map(e=>{var t,r,n;let[a,i]=e,o=i.max_score,l=null!==(n=i.score)&&void 0!==n?n:i.score,c=eP(l,o),h=el===a,m=null!==i.review_score;return(0,s.jsx)(b.Z,{item:!0,xs:12,md:6,lg:4,children:(0,s.jsx)(C.Z,{variant:"elevation",sx:{height:"100%",display:"flex",flexDirection:"column",width:"72vw"},children:(0,s.jsxs)(w.Z,{sx:{flexGrow:1,display:"flex",flexDirection:"column"},children:[(0,s.jsxs)(d.Z,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,s.jsx)(u.Z,{variant:"subtitle1",fontWeight:600,children:i.parameter}),(0,s.jsx)(y.Z,{label:"Score: ".concat(l,"/").concat(o),icon:m?(0,s.jsx)(K.Z,{}):void 0,color:c,size:"small",variant:m?"filled":"outlined"})]}),(0,s.jsx)(u.Z,{variant:"body2",sx:{mt:1,mb:1,fontStyle:"italic"},children:i.explanation}),(0,s.jsxs)(d.Z,{sx:{mt:2,mb:2},children:[(0,s.jsx)(u.Z,{variant:"caption",fontWeight:600,fontSize:"0.875rem",children:"Rule Analysis:"}),i.sub_rule_analysis.map((e,t)=>(0,s.jsxs)(d.Z,{sx:{display:"flex",alignItems:"flex-start",mt:.5,fontSize:"0.75rem"},children:["Pass"===e.status?(0,s.jsx)(A.Z,{color:"success",sx:{fontSize:14,mr:.5,mt:"2px",flexShrink:0}}):(0,s.jsx)(D.Z,{color:"error",sx:{fontSize:14,mr:.5,mt:"2px",flexShrink:0}}),(0,s.jsxs)(d.Z,{children:[(0,s.jsx)(u.Z,{variant:"caption",sx:{fontWeight:500,fontSize:"0.85rem"},children:e.rule}),(0,s.jsxs)(u.Z,{variant:"caption",color:"text.secondary",display:"block",fontSize:"0.85rem",children:[(0,s.jsx)("i",{children:"Reason:"})," ",e.reason]})]})]},t))]}),(0,s.jsx)(k.Z,{sx:{my:2},children:(0,s.jsx)(y.Z,{label:"Manual Review",size:"small"})}),(0,s.jsxs)(d.Z,{sx:{flexGrow:1},children:[(0,s.jsx)(I.Z,{label:"Score",type:"number",size:"small",value:(null===(t=en[a])||void 0===t?void 0:t.score)||"",onChange:e=>eZ(a,"score",e.target.value),InputProps:{endAdornment:(0,s.jsxs)(P.Z,{position:"end",children:["/ ",o]}),inputProps:{min:0,max:o}},sx:{width:120,mb:2}}),(0,s.jsx)(I.Z,{label:"Reason for Change",multiline:!0,rows:2,size:"small",fullWidth:!0,value:(null===(r=en[a])||void 0===r?void 0:r.reason)||"",onChange:e=>eZ(a,"reason",e.target.value)})]}),(0,s.jsx)(d.Z,{sx:{mt:2,display:"flex",justifyContent:"flex-end"},children:(0,s.jsx)(j.Z,{variant:"contained",size:"small",disabled:h,startIcon:h?(0,s.jsx)(x.Z,{size:16,color:"inherit"}):(0,s.jsx)(M.Z,{}),onClick:()=>ep(a,o),children:h?"Saving...":"Save"})})]})})},a)})})]})})]}),"outcomes"===er&&(0,s.jsxs)(d.Z,{sx:{p:3},children:[(0,s.jsx)(u.Z,{variant:"h5",fontWeight:600,gutterBottom:!0,sx:{mb:3},children:"Call Outcomes and Extracted Metadata"}),(0,s.jsx)(C.Z,{variant:"outlined",children:(0,s.jsxs)(w.Z,{children:[(0,s.jsxs)(u.Z,{variant:"h6",gutterBottom:!0,children:["Disposition:"," ",(0,s.jsx)("b",{children:ew.disposition.toUpperCase()})]}),(0,s.jsx)(u.Z,{variant:"body1",color:"text.secondary",gutterBottom:!0,children:"The final disposition from the conversation data."}),(0,s.jsxs)(d.Z,{sx:{mt:4},children:[(0,s.jsx)(u.Z,{variant:"h6",fontWeight:600,gutterBottom:!0,children:"Outcome Fields Extracted"}),eS.length>0?(0,s.jsx)(b.Z,{container:!0,spacing:3,children:eS.map(e=>{var t,r,n;let[a,i]=e,o=String(null!==(n=i.extracted_value)&&void 0!==n?n:"N/A");"boolean"==typeof i.extracted_value&&(o=i.extracted_value?"Yes":"No");let c=el===a;return(0,s.jsx)(b.Z,{item:!0,xs:12,sm:12,md:6,children:(0,s.jsxs)("div",{className:l().outcomeCard,children:[(0,s.jsxs)("h4",{className:l().outcomeHeader,children:["Extracted: ",i.attribute_name]}),(0,s.jsxs)("div",{className:l().dataGrid,children:[(0,s.jsxs)("div",{className:l().dataColumn,children:[(0,s.jsx)("label",{className:l().fieldLabel,children:"Extracted Value"}),(0,s.jsx)("p",{className:l().extractedValue,children:o})]}),(0,s.jsxs)("div",{className:l().dataColumn,children:[(0,s.jsx)("label",{className:l().fieldLabel,children:"AI Reasoning"}),(0,s.jsx)("p",{className:l().extractedValue,children:i.reasoning})]})]}),(0,s.jsx)("hr",{className:l().divider}),(0,s.jsxs)("div",{className:l().dataGrid,children:[(0,s.jsx)("div",{className:l().dataColumn,children:(0,s.jsxs)("div",{className:l().fieldGroup,children:[(0,s.jsx)("label",{className:l().fieldLabel,htmlFor:"reviewer-outcome-".concat(a),children:"Reviewer Outcome"}),(0,s.jsx)("input",{id:"reviewer-outcome-".concat(a),type:"text",className:l().textInput,value:(null===(t=ei[a])||void 0===t?void 0:t.value)||"",onChange:e=>eg(a,"value",e.target.value),placeholder:"Enter correct value..."})]})}),(0,s.jsx)("div",{className:l().dataColumn,children:(0,s.jsxs)("div",{className:l().fieldGroup,children:[(0,s.jsx)("label",{className:l().fieldLabel,htmlFor:"reviewer-reason-".concat(a),children:"Reason for Change"}),(0,s.jsx)("textarea",{id:"reviewer-reason-".concat(a),className:l().textAreaInput,value:(null===(r=ei[a])||void 0===r?void 0:r.reason)||"",onChange:e=>eg(a,"reason",e.target.value),placeholder:"Explain the reason for change..."})]})})]}),(0,s.jsx)("div",{className:l().actionsContainer,children:(0,s.jsx)("button",{className:l().saveButton,disabled:c,onClick:()=>ef(a),children:c?"Saving...":"Save Changes"})})]})},a)})}):(0,s.jsx)(m.Z,{severity:"warning",children:"No specific outcome fields were extracted."})]}),(0,s.jsxs)(d.Z,{sx:{mt:4},children:[(0,s.jsx)(u.Z,{variant:"h6",fontWeight:600,gutterBottom:!0,children:"Key Topics Discussed"}),(0,s.jsx)(d.Z,{sx:{display:"flex",flexWrap:"wrap",gap:1},children:ew.keyTopics.map((e,t)=>(0,s.jsx)(y.Z,{label:e},t))})]})]})})]})]})]})]}),(0,s.jsx)(z.Z,{open:ed,autoHideDuration:4e3,onClose:ey,anchorOrigin:{vertical:"bottom",horizontal:"center"},children:(0,s.jsx)(m.Z,{onClose:ey,severity:em,sx:{width:"100%"},children:eu})})]})]})}},7856:function(e,t,r){"use strict";r.d(t,{Gl:function(){return n},Om:function(){return o},wS:function(){return a},wW:function(){return i}});var s=r(4633);let n=async e=>{let{campaignId:t,teamId:r,skip:n=0,limit:a=100}=e,i=new URLSearchParams({skip:n.toString(),limit:a.toString()});t&&"all"!==t&&i.append("campaign_id",t),r&&"all"!==r&&i.append("team_id",r);try{return(await s.Z.get("/api/v1/conversations/?".concat(i.toString()))).data}catch(e){throw console.error("Failed to fetch conversations:",e),Error("Could not fetch conversations data. Please try again.")}},a=async e=>{try{return(await s.Z.get("/api/v1/conversations/".concat(e))).data}catch(t){throw console.error("Failed to fetch conversation detail for ID: ".concat(e),t),Error("Could not fetch conversation details for ".concat(e,". Please try again."))}},i=async(e,t,r)=>{try{return(await s.Z.put("/api/v1/conversations/".concat(e,"/scorecard/").concat(t),r)).data}catch(e){throw console.error("Failed to submit scorecard review for parameter: ".concat(t),e),Error('Could not submit scorecard review for "'.concat(t,'". Please try again.'))}},o=async(e,t,r)=>{try{return(await s.Z.put("/api/v1/conversations/".concat(e,"/outcome/").concat(t),r)).data}catch(e){throw console.error("Failed to submit outcome review for attribute: ".concat(t),e),Error('Could not submit outcome review for "'.concat(t,'". Please try again.'))}}},9496:function(e){e.exports={outcomeCard:"ConversationDetailPage_outcomeCard__B6zNF",outcomeHeader:"ConversationDetailPage_outcomeHeader__vii_4",dataGrid:"ConversationDetailPage_dataGrid__pcQ29",dataColumn:"ConversationDetailPage_dataColumn__eSTbG",fieldGroup:"ConversationDetailPage_fieldGroup__H3Bvr",fieldLabel:"ConversationDetailPage_fieldLabel__kT8OG",extractedValue:"ConversationDetailPage_extractedValue___CuLL",textInput:"ConversationDetailPage_textInput__kFGOY",textAreaInput:"ConversationDetailPage_textAreaInput__XKhCK",actionsContainer:"ConversationDetailPage_actionsContainer__PtqKB",saveButton:"ConversationDetailPage_saveButton__aGlwB",divider:"ConversationDetailPage_divider__ip5sl"}}},function(e){e.O(0,[334,103,118,362,835,182,135,59,695,21,971,117,744],function(){return e(e.s=3743)}),_N_E=e.O()}]);